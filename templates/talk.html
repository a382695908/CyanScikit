{% extends "base.html" %}
{% block title %}<title>CyanScikit Talk</title>{% endblock %}
{% block css %}
<link type="text/css" rel="stylesheet" href="/static/css/bootstrap.min.css">
<link type="text/css" rel="stylesheet" href="/static/css/awesome/css/font-awesome.min.css"><!--图标字体-->
<link type="text/css" rel="stylesheet" href="/static/css/base.css">
<link type="text/css" rel="stylesheet" href="/static/css/talk.css">
{% endblock %}

{% block center%}
<div id="main">
    <div id="callBackPagination" class="piece">
        <div id="mainContent"></div>
        <div id="callBackPager"></div>
    </div>
    <div class="talk_page_talking">
      <form method="post" action="">
        <div class="fl"><label>昵称：</label><br><input type="text" placeholder="输入昵称" name="name"></div>
        <div class="fr"><label >E_mail:</label><br><input type="email" placeholder="输入邮箱" name="email"></div>
        <div>
        <label>留言内容：</label><br>
        <textarea type="tel" name="talk"></textarea>
        </div>
        <input class="btn btn-success fl" type="submit" name="submit" value="我要留言">
        <input class="btn btn-danger fr" type="button" name="cancel" value="撤销">
      </form>
    </div>
</div><br>

<script type="text/javascript" src="/static/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/extendPagination.js"></script>
<script type="text/javascript" src="/static/js/base.js"></script>
<script type="text/javascript">
//调用分页
$(function(){
	    var total=200,showcounts=11,showlimits=7;
        var totalCount = Number(total), showCount = showcounts,
                limit = Number(showlimits) ;
        createTable(1, limit, totalCount);
        $('#callBackPager').extendPagination({
            totalCount: totalCount,
            showCount: showCount,
            limit: limit,
            callback: function (curr, limit, totalCount) {
                createTable(curr, limit, totalCount);
            }
        });
    function createTable(currPage, limit, total) {
        var html = [], showNum = limit;
        if (total - (currPage * limit) < 0) showNum = total - ((currPage - 1) * limit);
        html.push(' <ul>');
        for (var i = 1; i <= showNum; i++) {
            html.push('<li><div class="talk_can"><h4>昵称<span>2016-12-02</span></h4><p>啊师傅说解释多空分水岭地那次事啊师傅说解释多空分水岭地那次事件的理念啊师傅说解释多空分水岭地那次事件的理念啊师傅说解释多空分水岭地那次事件的理念件的理念</p></div>');
            html.push('</li>');
        }
        html.push('</ul>');
        var mainObj = $('#mainContent');
        mainObj.empty();
        mainObj.html(html.join(''));
    }
});
</script>
{% endblock %}

{% extends "base.html" %}
{% block title %}<title>CyanScikit Item</title>{% endblock %}
{% block css %}
<link type="text/css" rel="stylesheet" href="/static/css/bootstrap.min.css">
<link type="text/css" rel="stylesheet" href="/static/css/awesome/css/font-awesome.min.css"><!--图标字体-->
<link type="text/css" rel="stylesheet" href="/static/css/base.css">
<link type="text/css" rel="stylesheet" href="/static/css/item.css">
{% endblock %}

{% block center %}
<div id="main">
    <div id="callBackPagination" class="piece">
        <div id="mainContent"></div>
        <div id="callBackPager"></div>
    </div>
</div>

<script type="text/javascript" src="/static/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/extendPagination.js"></script>
<script type="text/javascript" src="/static/js/base.js"></script>
<script type="text/javascript">
//调用分页
$(function(){
	    var total=200,showcounts=11,showlimits=7;
        var totalCount = Number(total), showCount = showcounts,
                limit = Number(showlimits) ;
        createTable(1, limit, totalCount);
        $('#callBackPager').extendPagination({
            totalCount: totalCount,
            showCount: showCount,
            limit: limit,
            callback: function (curr, limit, totalCount) {
                createTable(curr, limit, totalCount);
            }
        });
    function createTable(currPage, limit, total) {
        var html = [], showNum = limit;
        if (total - (currPage * limit) < 0) showNum = total - ((currPage - 1) * limit);
        html.push(' <ul>');
        for (var i = 1; i <= showNum; i++) {
            html.push('<li><a href="/item/one"><img class="fl" src="/static/images/logo.jpg"><div class="item_info fl"><p>啊师傅说解释多空分水岭地那次事啊师傅说解释多空分水岭地那次事件的理念啊师傅说解释多空分水岭地那次事件的理念啊师傅说解释多空分水岭地那次事件的理念件的理念</p></div>');
            html.push('</a></li>');
        }
        html.push('</ul>');
        var mainObj = $('#mainContent');
        mainObj.empty();
        mainObj.html(html.join(''));
    }
});
</script>
{% endblock %}

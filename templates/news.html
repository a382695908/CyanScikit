{% extends "base.html" %}
{% block title %}<title>cyanscikit--morethings</title>{% endblock %}
{% block css %}
<link type="text/css" rel="stylesheet" href="/static/css/bootstrap.min.css">
<link type="text/css" rel="stylesheet" href="/static/css/awesome/css/font-awesome.min.css"><!--图标字体-->
<link type="text/css" rel="stylesheet" href="/static/css/base.css">
<link type="text/css" rel="stylesheet" href="/static/css/index.css">
{% endblock %}

{% block center %}
<div id="main">
    <div id="callBackPagination" class="piece">
        <div id="mainContent"></div>
        <div id="callBackPager"></div>
    </div>
</div>

<script type="text/javascript" src="/static/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/extendPagination.js"></script>
<script type="text/javascript" src="/static/js/base.js"></script>
<script type="text/javascript">
//调用分页
$(function(){
	    var total=200,showcounts=11,showlimits=12;
        var totalCount = Number(total), showCount = showcounts,
                limit = Number(showlimits) ;
        createTable(1, limit, totalCount);
        $('#callBackPager').extendPagination({
            totalCount: totalCount,
            showCount: showCount,
            limit: limit,
            callback: function (curr, limit, totalCount) {
                createTable(curr, limit, totalCount);
            }
        });
    function createTable(currPage, limit, total) {
        var html = [], showNum = limit;
        if (total - (currPage * limit) < 0) showNum = total - ((currPage - 1) * limit);
        html.push(' <table class="table table-hover piece morething_table">');
        html.push(' <thead><tr><th>最近新闻</th></tr></thead><tbody>');
        for (var i = 1; i <= showNum; i++) {
            html.push('<tr><td>name' + currPage + '页_' + i + '</td>');
            html.push('</tr>');
        }
        html.push('</tbody></table>');
        var mainObj = $('#mainContent');
        mainObj.empty();
        mainObj.html(html.join(''));
    }
});
</script>
{% endblock %}